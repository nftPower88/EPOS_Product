{"version":3,"file":"static/js/600.5ad2d37e.chunk.js","mappings":"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","sources":["pages/dashboard/merchant_group/savedcarts.jsx"],"sourcesContent":["import Layout from '../../../components/Layout';\r\nimport Sidebar from '../sidebar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHome, faCaretDown, faCaretUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { \r\n  selectNameOrders, \r\n  getOrdersByName, \r\n  selectMerchantOrders, \r\n  getOrdersByMerchant,\r\n  deleteOrder,\r\n  setCurOrders,\r\n  setCustomer,\r\n  setCoinType,\r\n  setCurCount,\r\n  selectCurrentGroup\r\n} from '../../../redux/orderReducer';\r\nimport { selectProducts } from '../../../redux/productReducer';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { floatAdd, floatMul, getTotalAmount } from '../../../utils/utils';\r\nimport { openSnackBar } from '../../../redux/snackBarReducer';\r\nimport { selectUser } from '../../../redux/userReducer';\r\n\r\nconst SavedCarts = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const orders = useSelector(selectMerchantOrders);\r\n  const products = useSelector(selectProducts);\r\n  // const {name} = useParams();\r\n  const currentGroup = useSelector(selectCurrentGroup);\r\n  const seluser = useSelector(selectUser);\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(getOrdersByName(name));\r\n  // }, [name]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrdersByMerchant(seluser._id));\r\n  });\r\n\r\n  const getProduct = (id) => {\r\n    const p = products.filter((e) => e._id === id);\r\n    return p[0];\r\n  }\r\n\r\n  const getOrderPrice = (orderlist) => {\r\n    let ret = 0;\r\n    for (let i = 0; i < orderlist.length; i++) {\r\n      const p = getProduct(orderlist[i].productId);\r\n      if (p) {\r\n        ret = floatAdd(ret, floatMul(p.price, orderlist[i].amount));\r\n      } else {\r\n        ret = floatAdd(ret, 0);\r\n      }\r\n    }\r\n    return ret.toFixed(2);\r\n  }\r\n\r\n  const handleDeleteCart = (order) => {\r\n    // dispatch(deleteOrder(order.order._id, name));\r\n    dispatch(deleteOrder(order.order._id));\r\n  }\r\n\r\n  const handleContinueCheck = (order) => {\r\n    if (currentGroup > 0) {\r\n      dispatch(openSnackBar({ message: \"Whiling checkout, cannot coutinue another checkout.\", status: 'error' }));\r\n      return;\r\n    }\r\n    const orderlist = JSON.parse(order.order.order);\r\n    dispatch(setCurOrders(orderlist));\r\n    dispatch(setCustomer(order.customer));\r\n    dispatch(setCoinType(order.order.coinType))\r\n    dispatch(setCurCount(getTotalAmount(orderlist)));\r\n    // dispatch(deleteOrder(order.order._id, name));\r\n    dispatch(deleteOrder(order.order._id));\r\n  }\r\n\r\n  return (\r\n    <Layout classes={'bg-[#404040] h-full'}>\r\n        <div className='flex flex-row'>\r\n            <div className=\"w-full h-[calc(100vh-80px)]\">\r\n              <div className='text-gray-100 text-2xl flex flex-row items-center px-[2rem] mt-6'>\r\n                <FontAwesomeIcon icon={faHome} className='cursor-pointer' onClick={() => navigate('/')}/>\r\n                <p className='ml-2 font-bold'>Saved Cart</p>\r\n              </div>\r\n              <div className='text-md text-gray-100 mt-8 h-[calc(100vh-112px-3.5rem)] overflow-y-auto'>\r\n                {\r\n                  orders.map((order, index) => {\r\n                    const orderlist = JSON.parse(order.order.order);\r\n                    return (\r\n                      <div key={index} className=\"collapse border-b border-[#444444]\">\r\n                        <input type=\"checkbox\" /> \r\n                        <div className='collapse-title w-full flex items-center bg-[#333333] px-[2rem] py-[0rem]' style={{minHeight: '0px'}}>\r\n                          <div className='w-[10%] text-left'>{index + 1}</div>\r\n                          <div className='w-[40%] text-center'>{order.order.name}</div>\r\n                          <div className='w-[40%] text-center'>{order.customer ? order.customer.name : 'No Customer'}</div>\r\n                          <div className='w-[10%] collapse-title text-right cursor-pointer py-[1rem] pr-[0px]'><FontAwesomeIcon icon={faCaretDown}/></div>\r\n                        </div>\r\n                        <div className=\"collapse-content bg-[#333333] px-[2rem]\"> \r\n                          {\r\n                            orderlist.map((o, i) => {\r\n                              const p = getProduct(o.productId);\r\n                              return (\r\n                                <div key={i+20000*index}>\r\n                                  {p && <div className=\"py-1\">    \r\n                                      <div className='flex justify-between text-md'>\r\n                                          <div>{p.name} X {o.amount}</div>\r\n                                          <div>{floatMul(p.price, o.amount).toFixed(2)}</div>\r\n                                      </div>\r\n                                  </div>}\r\n                                </div>\r\n                              );\r\n                            })\r\n                          }\r\n                          <div className='flex justify-between py-1 text-md font-bold border-t border-[#464646]'>\r\n                              <div>SUBTOTAL</div>\r\n                              <div>{getOrderPrice(orderlist)}</div>\r\n                          </div>\r\n                          <div className='flex justify-end mt-2'>\r\n                            <button \r\n                                className={`px-2 min-w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#333333] border border-[#D9D9D9] text-gray-100 mr-6`}            \r\n                                onClick={()=>handleDeleteCart(order)}\r\n                            >Delete</button>\r\n                            <button \r\n                                className={`px-2 min-w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#D9D9D9] text-gray-800`}            \r\n                                onClick={()=>handleContinueCheck(order)}\r\n                            >Continue Checkout</button>\r\n                          </div> \r\n                        </div>   \r\n                      </div>\r\n                    );\r\n                  })\r\n                }\r\n              </div>\r\n            </div>\r\n            <Sidebar />\r\n        </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default SavedCarts;"],"names":["navigate","useNavigate","dispatch","useDispatch","orders","useSelector","selectMerchantOrders","products","selectProducts","currentGroup","selectCurrentGroup","seluser","selectUser","useEffect","getOrdersByMerchant","_id","getProduct","id","filter","e","getOrderPrice","orderlist","ret","i","length","p","productId","floatAdd","floatMul","price","amount","toFixed","classes","className","icon","faHome","onClick","map","order","index","JSON","parse","type","style","minHeight","name","customer","faCaretDown","o","deleteOrder","handleDeleteCart","openSnackBar","message","status","setCurOrders","setCustomer","setCoinType","coinType","setCurCount","getTotalAmount","handleContinueCheck"],"sourceRoot":""}