(self.webpackChunkepos=self.webpackChunkepos||[]).push([[518],{2849:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(4165),r=a(5861),n=a(9439),l=a(432),c=a(8675),i=a(9806),o=a(1632),d=a(4768),u=a(9434),m=a(2791),x=a(1187),f=a(7689),p=a(5169),h=a(1840),b=a(5275),v=a(3793),g=a(9593),w=a(7162),j=a(184),N=function(e){var t=e.isModal,a=e.setIsModal,l=e.walletBalance,c=e.coinType,i=(0,u.I0)(),o=(0,u.v9)(d.dy),f=(0,m.useState)(""),p=(0,n.Z)(f,2),b=p[0],N=p[1],y=(0,m.useState)(0),k=(0,n.Z)(y,2),Z=k[0],C=k[1],D=(0,m.useState)(!1),F=(0,n.Z)(D,2),S=F[0],T=F[1],W=function(e){var t={message:"",status:!1};return 0===b.length?(t.message="Please input receipt address.",t.status=!1):w.UJ(b)?0===Z?(t.message="Withdraw ammount could not be zero.",t.status=!1):Z<0?(t.message="Withdraw ammount could not be negative value.",t.status=!1):Z>l?(t.message="Withdraw ammount could not be greater than ".concat(l,"."),t.status=!1):(t.message="",t.status=!0):(t.message="Should be available receipt address.",t.status=!1),t},B=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=W()).status){e.next=4;break}return i((0,h.jW)({message:t.message,status:"error"})),e.abrupt("return");case 4:return T(!0),e.next=7,x.X.sendTransactions(b,Z,c,o._id);case 7:"success"===e.sent.status?i((0,h.jW)({message:"Successed withdraw to ".concat(b),status:"success"})):i((0,h.jW)({message:"Failed withdraw to ".concat(b),status:"error"})),T(!1),a(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){t&&(N(""),C(0))}),[t]),(0,j.jsx)(v.u,{appear:!0,show:t,as:m.Fragment,children:(0,j.jsxs)(g.V,{as:"div",onClose:function(){},className:"relative z-50",children:[(0,j.jsx)(v.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,j.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-[#FFFFFF44]","aria-hidden":"true"})}),(0,j.jsx)("div",{className:"fixed inset-0 flex items-center bg-transparent justify-center ",children:(0,j.jsx)(v.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,j.jsx)(g.V.Panel,{className:" max-w-full transform transition-all md:max-w-full",onKeyUp:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||B()},children:(0,j.jsxs)("div",{className:"relative bg-[#404040] w-[30vw] max-w-[1000px] min-w-[380px] min-h-[160px] rounded-[1rem] drop-shadow-md p-6 text-center shadow-xl",children:[(0,j.jsx)("div",{className:"",children:(0,j.jsx)("h1",{className:"text-xl font-bold text-left text-[#D9D9D9] select-none",children:"Withdraw:"})}),(0,j.jsxs)("div",{className:"min-h-[2rem] pb-[0.5rem]",children:[(0,j.jsxs)("div",{className:"flex flex-col my-[1rem]",children:[(0,j.jsx)("label",{className:"block uppercase tracking-wide text-gray-100 mb-1 text-left",children:"Receipt Address:"}),(0,j.jsx)("input",{className:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",type:"text",value:b,onChange:function(e){return N(e.target.value)}})]}),(0,j.jsxs)("div",{className:"flex flex-col my-[1rem] mb-[2.6rem]",children:[(0,j.jsx)("label",{className:"block uppercase tracking-wide text-gray-100 mb-1 text-left",children:"Withdraw Amount:"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("input",{className:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",type:"number",value:Z,min:0,onChange:function(e){return C(e.target.value)}}),(0,j.jsx)("button",{className:"w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#D9D9D9] text-gray-800",onClick:function(){C(l)},children:"Max"})]})]})]}),(0,j.jsxs)("div",{className:"absolute right-6 bottom-4",children:[(0,j.jsx)("button",{className:"w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#404040] border border-[#D9D9D9] text-gray-100 mr-6",onClick:function(){return a(!1)},children:"Cancel"}),(0,j.jsx)("button",{className:"w-[6rem] h-[2rem] text-md rounded-[0.6rem] leading-[2rem] bg-[#D9D9D9] text-gray-800",onClick:function(){return B()},children:S?"Processing...":"Withdraw"})]})]})})})})]})})},y=function(e){var t=e.searchBar,a=void 0===t||t,v=e.homeBtn,g=void 0===v||v,w=e.walletNav,y=void 0===w||w,k=e.faqBtn,Z=void 0!==k&&k,C=(0,f.s0)(),D=(0,u.I0)(),F=(0,u.v9)(d.dy),S=(0,u.v9)(b.jd),T=(0,u.v9)(b.n4),W=(0,m.useState)(0),B=(0,n.Z)(W,2),E=B[0],M=B[1],I=(0,m.useState)(""),X=(0,n.Z)(I,2),A=X[0],L=X[1],_=(0,m.useState)(0),J=(0,n.Z)(_,2),P=J[0],V=J[1],q=(0,m.useState)([]),z=(0,n.Z)(q,2),H=z[0],K=z[1],U=(0,m.useState)(!1),G=(0,n.Z)(U,2),R=G[0],Y=G[1],O=(0,m.useState)(!1),Q=(0,n.Z)(O,2),$=Q[0],ee=Q[1],te=(0,m.useState)(0),ae=(0,n.Z)(te,2),se=ae[0],re=ae[1],ne=(0,m.useState)(!1),le=(0,n.Z)(ne,2),ce=le[0],ie=le[1],oe=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,a){var r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.next=3,x.X.getWalletBalance(a,t);case 3:r=e.sent,n=r.data.ret,V(n),ee(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,a){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(!0),K([]),e.t0=t,e.next=0===e.t0?5:1===e.t0?16:2===e.t0?27:3===e.t0?28:4===e.t0?29:5===e.t0?40:41;break;case 5:return e.prev=5,e.next=8,x.X.trackTransactions(a,0,t);case 8:r=e.sent,K(r.data.ret),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(5),Y(!1);case 15:return e.abrupt("break",41);case 16:return e.prev=16,e.next=19,x.X.trackTransactions(a,0,t);case 19:r=e.sent,K(r.data.ret),e.next=26;break;case 23:e.prev=23,e.t2=e.catch(16),Y(!1);case 26:case 27:case 28:return e.abrupt("break",41);case 29:return e.prev=29,e.next=32,x.X.trackTransactions(a,0,t);case 32:r=e.sent,K(r.data.ret),e.next=39;break;case 36:e.prev=36,e.t3=e.catch(29),Y(!1);case 39:case 40:return e.abrupt("break",41);case 41:Y(!1);case 42:case"end":return e.stop()}}),e,null,[[5,12],[16,23],[29,36]])})));return function(t,a){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){!function(e){var t=F.is_admin?T.walpublic:F.walpublic;0===e&&(t=F.is_admin?T.btcwalpublic:F.btcwalpublic);L(t),de(e,t),oe(e,t)}(se)}),[se]),(0,m.useEffect)((function(){M(S)}),[S]),(0,m.useEffect)((function(){D((0,b.JK)())}),[]),(0,j.jsxs)(l.Z,{classes:"bg-[#404040] h-full",searchBar:a,walletNav:y,faqBtn:Z,children:[(0,j.jsxs)("div",{className:"flex flex-row",children:[(0,j.jsxs)("div",{className:"w-full h-[calc(100vh-80px)]",children:[(0,j.jsxs)("div",{className:"text-gray-100 text-2xl flex flex-row items-center px-[2rem] mt-6",children:[g&&(0,j.jsx)(i.G,{icon:o.J9Y,className:"cursor-pointer",onClick:function(){return C("/")}}),(0,j.jsx)("p",{className:"ml-2 font-bold",children:"Wallet"})]}),(0,j.jsxs)("div",{className:"w-full flex justify-between text-gray-100 text-xl mb-2 bold px-[2rem] py-[1rem]",children:[(0,j.jsxs)("div",{className:"w-half flex items-center ",children:[(0,j.jsx)("p",{className:"font-bold",children:"Coin Type: "}),(0,j.jsxs)("select",{className:"bg-[#404040] font-bold border-b border-gray-300 text-gray-100 text-xl block w-[10rem] p-2.5 focus:outline-none ml-[1rem]",onChange:function(e){return re(parseInt(e.target.value))},children:[(0,j.jsx)("option",{value:0,children:p.BL[0]}),(0,j.jsx)("option",{value:1,children:p.BL[1]}),(0,j.jsx)("option",{value:4,children:p.BL[4]})]})]}),F.is_admin&&(0,j.jsxs)("div",{className:"w-half flex items-center ml-[4rem]",children:[(0,j.jsx)("p",{className:"font-bold",children:"Client Fee: "}),(0,j.jsx)("input",{type:"number",max:10,min:3,className:"ml-[1rem] appearance-none bg-transparent border-b border-gray-300 w-[8rem] text-gray-100 mr-3 py-1 px-2 leading-[2rem] focus:outline-none",value:E,onChange:function(e){return M(parseFloat(e.target.value))}}),(0,j.jsx)("p",{className:"font-bold mr-2",children:"(%)"}),(0,j.jsx)("button",{className:"w-[8rem] text-xl leading-[2.6rem] rounded-[0.6rem] bg-[#D9D9D9] text-gray-800",onClick:function(){D((0,b.CZ)(E))},children:"Set"})]})]}),(0,j.jsxs)("div",{className:"w-full flex justify-between text-gray-100 text-xl mb-2 bold px-[2rem] pb-[1rem]",children:[(0,j.jsxs)("div",{className:"w-[60%] flex items-center",children:[(0,j.jsxs)("div",{onClick:function(){return navigator.clipboard.writeText(A),void D((0,h.jW)({message:"Copied to clipboard successfully",status:"success"}))},className:"text-left leading-[1.2rem] select-none",children:["Address: ",(0,j.jsx)("span",{className:"font-bold hover:text-gray-300 cursor-pointer hover:underline",children:A?A.substr(0,4)+"..."+A.substr(A.length-4,4):""})]}),(0,j.jsxs)("div",{className:"text-left leading-[1.2rem] select-none ml-[4rem]",children:["Balance: ",(0,j.jsx)("span",{className:"font-bold",children:$?"loading...":P})]})]}),(0,j.jsx)("div",{className:"w-[40%] flex items-center justify-end",children:(0,j.jsx)("button",{className:"w-[8rem] text-xl leading-[2.6rem] rounded-[0.6rem] bg-[#D9D9D9] text-gray-800",onClick:function(){return ie(!0)},children:"Withdraw"})})]}),(0,j.jsxs)("div",{className:"w-full flex text-gray-100 leading-[1.8rem]",children:[(0,j.jsx)("p",{className:"w-[15%] pl-6",children:"Txn Hash"}),(0,j.jsx)("p",{className:"w-[12%] text-left",children:"Method"}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:"Age"}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:"From"}),(0,j.jsx)("p",{className:"w-[18%] text-left",children:"To"}),(0,j.jsx)("p",{className:"w-[10%] text-left",children:"Value"}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:"Token"})]}),(0,j.jsx)("div",{className:"w-full h-[calc(100vh-21rem)] carousel mt-[1rem] text-gray-100 text-xl",children:R?(0,j.jsx)("div",{className:"w-full text-center",children:"Loading..."}):H.length>0?(0,j.jsx)("div",{className:"w-full h-[calc(100vh-17em)] overflow-y-auto",children:H.map((function(e,t){return(0,j.jsxs)("div",{className:"w-full flex text-gray-100 leading-[1.4rem] bg-[#333333] border-b border-[#282828]",children:[(0,j.jsx)("p",{className:"w-[15%] text-left",children:e.blockHash.substr(0,8)+"..."}),(0,j.jsx)("p",{className:"w-[12%] text-left",children:e.functionName}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:e.timeStamp}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:e.from.substr(0,8)+"..."}),(0,j.jsx)("p",{className:"w-[18%] text-left",children:e.to.substr(0,8)+"..."}),(0,j.jsx)("p",{className:"w-[10%] text-left",children:(e.value/Math.pow(10,18)).toFixed(8)}),(0,j.jsx)("p",{className:"w-[15%] text-left",children:"Token"})]},t)}))}):(0,j.jsx)("div",{className:"w-full text-center",children:"Empty Data"})})]}),F&&"merchant"===F.role&&(0,j.jsx)(c.Z,{})]}),(0,j.jsx)(N,{isModal:ce,setIsModal:ie,walletBalance:P})]})}},7801:function(){}}]);
//# sourceMappingURL=518.af527760.chunk.js.map